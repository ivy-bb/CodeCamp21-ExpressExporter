<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui">

<!--
In the interface it is possible to define view attributes like labels.
This attributes can be accessed by the el expression cc.attrs.attributeName.
-->
<cc:interface componentType="IvyComponent">
  <cc:attribute name="label" />
</cc:interface>
<cc:implementation>
  <p:fieldset legend="Address Component" id="addressComponentFieldset">
    <h:outputText>#{cc.attrs.label}</h:outputText>
    <h:panelGrid columns="2" cellpadding="2" columnClasses="label-top" id="addressPanelGrid">

      <!-- Insert the children from the parent where the include of this component is defined -->
      <cc:insertChildren />

      <p:outputLabel value="Street" for="street" />
      <p:inputText value="#{data.address.street}" id="street" />
      <p:outputLabel value="Country" for="country" />
      <p:inputText value="#{data.address.country}" id="country" />
    </h:panelGrid>
		<p:selectOneMenu value="#{data.address.sign}" onchange="doSave()">
			<f:selectItem itemLabel="Option 1" itemValue="Option 1" />
			<f:selectItem itemLabel="Option 2" itemValue="Option 2" />
		</p:selectOneMenu>
		<p:commandButton value="save this adr" actionListener="#{logic.save}"/>
	</p:fieldset>
	
	<p:remoteCommand name="doSave" update="@form" 	actionListener="#{logic.save}">
</p:remoteCommand>
	
</cc:implementation>

</html>
